; Generated by Helix Python Compiler
.ORG 0x0000
LDI.W SP, 0x6000 ; Initialize Stack
CALL main
HLT

; Function: test_cmp
test_cmp:
ADD.W SP, SP, -1
ST.W FP, [SP, 0]
MOV.W FP, SP
ADD.W SP, SP, -1
ST.W R1, [SP, 0] ; Arg a
ADD.W SP, SP, -1
ST.W R2, [SP, 0] ; Arg b
LD.W R1, [FP, -1] ; Load a
ADD.W SP, SP, -1
ST.W R1, [SP, 0]
LD.W R1, [FP, -2] ; Load b
MOV.W R2, R1
LD.W R1, [SP, 0]
ADD.W SP, SP, 1
CMP.W R1, R2
BLT L_cmp_true_3
LDI.W R1, 0
JMP L_cmp_end_4
L_cmp_true_3:
LDI.W R1, 1
L_cmp_end_4:
CMP.W R1, 0
BEQ L_else_1
LDI.W R1, 1
MOV.W SP, FP
LD.W FP, [SP, 0]
ADD.W SP, SP, 1
RET
JMP L_if_end_2
L_else_1:
LDI.W R1, 0
MOV.W SP, FP
LD.W FP, [SP, 0]
ADD.W SP, SP, 1
RET
L_if_end_2:
MOV.W SP, FP
LD.W FP, [SP, 0]
ADD.W SP, SP, 1
RET

; Function: main
main:
ADD.W SP, SP, -1
ST.W FP, [SP, 0]
MOV.W FP, SP
LDI.W R1, 10
ADD.W SP, SP, -1
ST.W R1, [SP, 0]
LDI.W R1, 20
ADD.W SP, SP, -1
ST.W R1, [SP, 0]
LD.W R2, [SP, 0]
ADD.W SP, SP, 1
LD.W R1, [SP, 0]
ADD.W SP, SP, 1
CALL test_cmp
MOV.W SP, FP
LD.W FP, [SP, 0]
ADD.W SP, SP, 1
RET
MOV.W SP, FP
LD.W FP, [SP, 0]
ADD.W SP, SP, 1
RET
